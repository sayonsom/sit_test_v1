# UAT environment variables for `docker-compose.uat.yml`
#
# Usage:
#   cp .env.uat.example .env.uat
#   docker compose --env-file .env.uat -f docker-compose.uat.yml up -d --build
#
# Frontend
FRONTEND_PORT=3000
# Use same-origin API proxy (nginx.conf proxies `/api/v1/*` to Cloud Run)
REACT_APP_API_URL=/api/v1
# Optional: omit/blank to default to window.location.origin
REACT_APP_LTI_API_URL=

# Staff/Admin direct access (Microsoft Entra ID / Azure AD) - optional
REACT_APP_AAD_CLIENT_ID=
REACT_APP_AAD_TENANT_ID=
# Optional: override authority (default: https://login.microsoftonline.com/organizations)
REACT_APP_AAD_AUTHORITY=
# Redirect URI path or full URL registered in Entra app (UAT value below)
REACT_APP_AAD_REDIRECT_URI=https://hvlabonline-uat.singaporetech.edu.sg/oauth2/callback
# Optional: comma-separated scopes (defaults to openid,profile,email)
REACT_APP_AAD_SCOPES=
# Optional: comma-separated group IDs or app roles to restrict access
REACT_APP_AAD_ALLOWED_GROUP_IDS=
REACT_APP_AAD_ALLOWED_ROLES=
# Optional: restrict by email domain (e.g. singaporetech.edu.sg)
REACT_APP_AAD_ALLOWED_EMAIL_DOMAIN=

# LTI 1.3 (SIT Brightspace - xsitestg)
CLIENT_ID=your-client-id
DEPLOYMENT_ID=your-deployment-id
ISSUER=https://xsitestg.singaporetech.edu.sg
AUTHORIZATION_ENDPOINT=https://xsitestg.singaporetech.edu.sg/d2l/lti/authenticate
KEY_SET_URL=https://xsitestg.singaporetech.edu.sg/d2l/.well-known/jwks

# Tool URLs (must match Brightspace tool registration)
TOOL_URL=https://hvlabonline-uat.singaporetech.edu.sg
FRONTEND_URL=https://hvlabonline-uat.singaporetech.edu.sg

# CORS (mostly irrelevant when `/lti/*` is same-origin proxied, but keep consistent)
ALLOWED_ORIGINS=https://hvlabonline-uat.singaporetech.edu.sg,https://xsitestg.singaporetech.edu.sg

# Backend API (used server-to-server by the LTI backend for student sync)
BACKEND_API_URL=https://alignbackendapis-708196257066.asia-southeast1.run.app/api/v1

# Optional
DEBUG=false
LOG_LEVEL=INFO
